@model ProyectoLuisa.Models.Horario
@{
    bool esEdicion = Model?.Id > 0;
    ViewData["Title"] = esEdicion ? "Editar Horario" : "Crear Nuevo Horario";

    var materias = new List<string>
    {
        "Espa침ol","Matem치ticas","Ciencias","Estudios Sociales","Ingl칠s",
        "Educaci칩n F칤sica","M칰sica","Religi칩n","Artes","C칤vica"
    };

    var dias = new[] { "Lunes","Martes","Mi칠rcoles","Jueves","Viernes" };

    var secciones = new List<string>();
    foreach (var grado in new[] { "1춿","2춿","3춿","4춿","5춿","6춿" })
    {
        foreach (var grupo in new[] { "A", "B" })
        {
            secciones.Add($"{grado} {grupo} - Ma침ana");
            secciones.Add($"{grado} {grupo} - Tarde");
        }
    }
}

<h2 class="text-center text-primary fw-bold mb-4">
    @(esEdicion ? "九勇 Editar Horario" : "游뎹 Registrar Nuevo Horario")
</h2>

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger text-center fw-bold">@TempData["Error"]</div>
}
@if (TempData["Success"] != null)
{
    <div class="alert alert-success text-center fw-bold">@TempData["Success"]</div>
}

<form asp-action="@(esEdicion ? "Editar" : "Crear")"
      method="post"
      class="row g-3 shadow-sm p-4 bg-light rounded">

    @Html.AntiForgeryToken()
    @if (esEdicion)
    {
        <input type="hidden" asp-for="Id" />
    }

    <!-- MATERIA -->
    <div class="col-md-6">
        <label class="form-label fw-bold">Materia</label>
        <select asp-for="Materia" class="form-select" required>
            <option value="">Seleccione una materia</option>
            @foreach (var m in materias)
            {
                <option value="@m" selected="@(Model?.Materia == m)">
                    @m
                </option>
            }
        </select>
    </div>

    <!-- SECCION -->
    <div class="col-md-6">
        <label class="form-label fw-bold">Secci칩n</label>
        <select asp-for="Seccion" class="form-select" required>
            <option value="">Seleccione secci칩n</option>
            @foreach (var s in secciones)
            {
                <option value="@s" selected="@(Model?.Seccion == s)">
                    @s
                </option>
            }
        </select>
    </div>

    <!-- D칈A -->
    <div class="col-md-4">
        <label class="form-label fw-bold">D칤a</label>
        <select asp-for="DiaSemana" class="form-select" required>
            <option value="">Seleccione un d칤a</option>
            @foreach (var d in dias)
            {
                <option value="@d" selected="@(Model?.DiaSemana == d)">
                    @d
                </option>
            }
        </select>
    </div>

    <!-- HORA INICIO -->
    <div class="col-md-4">
        <label asp-for="HoraInicio" class="form-label fw-bold">Hora de Inicio</label>
        <input asp-for="HoraInicio" type="time" class="form-control" required />
    </div>

    <!-- HORA FIN -->
    <div class="col-md-4">
        <label asp-for="HoraFin" class="form-label fw-bold">Hora de Finalizaci칩n</label>
        <input asp-for="HoraFin" type="time" class="form-control" required />
    </div>

    <!-- AULA -->
    <div class="col-md-6">
        <label asp-for="Aula" class="form-label fw-bold">Aula</label>
        <input asp-for="Aula" class="form-control" placeholder="Ej: Aula 4, Lab 1" required />
    </div>

    <!-- BOTONES -->
    <div class="col-12 text-center mt-4">
        <button type="submit" class="btn btn-success px-4 fw-bold">
            <i class="bi bi-save"></i> @(esEdicion ? "Guardar Cambios" : "Guardar Horario")
        </button>
        <a asp-action="Index" class="btn btn-secondary px-4 fw-bold">
            <i class="bi bi-arrow-left"></i> Volver
        </a>
    </div>

</form>
