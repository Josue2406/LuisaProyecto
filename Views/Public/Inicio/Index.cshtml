@model List<ProyectoLuisa.Models.Evento>

@{
    Layout = "~/Views/Public/Shared/_LayoutPublic.cshtml";
    ViewData["Title"] = "Inicio Público";
}

<style>
    /* Reduce el tamaño vertical del carrusel */
    .carousel-small img {
        height: 350px;
        object-fit: cover;
    }

    /* Hover en cards */
    .card-hover:hover {
        transform: translateY(-5px);
        transition: 0.3s;
    }
</style>

<div class="container mt-4">

    <!-- Carrusel pequeño -->
    <div id="carouselPublic" class="carousel slide carousel-small shadow-sm rounded overflow-hidden mb-5" data-bs-ride="carousel">
        <div class="carousel-inner">

            <div class="carousel-item active">
                <img src="/img/frente.jpg" class="d-block w-100" alt="Imagen institucional 1" />
            </div>

            <div class="carousel-item">
                <img src="/img/frente.jpg" class="d-block w-100" alt="Imagen institucional 2" />
            </div>

            <div class="carousel-item">
                <img src="/img/public3.jpg" class="d-block w-100" alt="Imagen institucional 3" />
            </div>

        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#carouselPublic" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>

        <button class="carousel-control-next" type="button" data-bs-target="#carouselPublic" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>



    <!-- Bienvenida -->
    <div class="text-center mb-5">
        <h1 class="fw-bold text-primary">Bienvenidos</h1>
        <p class="lead text-muted">
            Consulta horarios, eventos y avisos institucionales de manera rápida y accesible.
        </p>

        <div class="mt-3">
            <a asp-controller="PublicHorarios" asp-action="Index" class="btn btn-primary btn-lg me-2">
                <i class="bi bi-calendar-week"></i> Horarios
            </a>

            <a asp-controller="Public" asp-action="Eventos" class="btn btn-outline-primary btn-lg">
                <i class="bi bi-megaphone"></i> Eventos
            </a>
        </div>
    </div>



    <!-- Eventos recientes -->
    <h2 class="text-center text-primary fw-bold mb-4">Eventos Recientes</h2>

    @if (Model == null || !Model.Any())
    {
        <div class="alert alert-info text-center">
            No hay eventos recientes publicados.
        </div>
    }
    else
    {
        <div class="row mb-4">
            @foreach (var e in Model)
            {
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm h-100 card-hover">

                        @if (!string.IsNullOrEmpty(e.ImagenUrl))
                        {
                            <img src="@e.ImagenUrl" class="card-img-top" style="height: 180px; object-fit: cover;" />
                        }

                        <div class="card-body">
                            <h5 class="fw-bold text-primary">@e.Titulo</h5>
                            <small class="text-muted">@e.Fecha.ToString("dd/MM/yyyy")</small>
                            <p class="mt-2 text-muted">@e.Descripcion</p>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="text-center">
            <a asp-controller="Public" asp-action="Eventos" class="btn btn-outline-primary btn-lg">
                Ver todos los eventos
            </a>
        </div>
    }

</div>
